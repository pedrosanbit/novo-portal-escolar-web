<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=0.5, maximum-scale=3, shrink-to-fit=no">
		<title>Portal Escolar</title>
		<link rel="icon" href="logoUnicampAzul.png">
		<!--link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous"-->
		<link rel="stylesheet" href="custom.css">
		<script src="https://kit.fontawesome.com/ebb5206ba7.js" crossorigin="anonymous"></script>
	</head>
	<body>
		<nav class="navbar navbar-dark bg-primary" id="navbar">
  			<div class="container-fluid">
    			<a class="navbar-brand" href="#">
    				<img src="logoUnicamp.png" width="32" class="d-inline-block align-text-top">
    				Portal Escolar
    			</a>
		    	<form class="d-flex text-white">
		    		<div class="form-check form-switch">
		  				<input class="form-check-input" type="checkbox" id="darkSwitch" onchange="setTema();">
		  				<i id='lua' class="far fa-moon"></i>
					</div>
		    	</form>
  			</div>
		</nav>
		<nav>
  			<div class="nav nav-tabs" id="nav-tab" role="tablist">
   				<button class="nav-link active text-dark" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-inicio" type="button" role="tab" aria-controls="nav-inicio" aria-selected="true" onclick="toggleActiveTab();">
   					<i class="fas fa-home"></i> Início
   				</button>
    			<button class="nav-link text-dark" id="nav-curso-tab" data-bs-toggle="tab" data-bs-target="#nav-cursos" type="button" role="tab" aria-controls="nav-cursos" aria-selected="false" onclick="toggleActiveTab();">
    				<i class="fas fa-graduation-cap"></i> Cursos
    			</button>
    			<button class="nav-link text-dark" id="nav-disciplina-tab" data-bs-toggle="tab" data-bs-target="#nav-disciplinas" type="button" role="tab" aria-controls="nav-disciplinas" aria-selected="false" onclick="toggleActiveTab();">
    				<i class="fas fa-book"></i> Disciplinas
    			</button>
    			<button class="nav-link text-dark" id="nav-turmas-tab" data-bs-toggle="tab" data-bs-target="#nav-turmas" type="button" role="tab" aria-controls="nav-turmas" aria-selected="false" onclick="toggleActiveTab();">
    				<i class="fas fa-users"></i> Turmas
    			</button>
    			<button class="nav-link text-dark" id="nav-professor-tab" data-bs-toggle="tab" data-bs-target="#nav-professores" type="button" role="tab" aria-controls="nav-professores" aria-selected="false" onclick="toggleActiveTab();">
    				<i class="fas fa-chalkboard-teacher"></i> Professores
    			</button>
    			<button class="nav-link text-dark" id="nav-aluno-tab" data-bs-toggle="tab" data-bs-target="#nav-alunos" type="button" role="tab" aria-controls="nav-alunos" aria-selected="false" onclick="toggleActiveTab();">
    				<i class="fas fa-user"></i> Alunos
    			</button>
  			</div>
		</nav>
		<div class="tab-content" id="nav-tabContent">
 			<div class="tab-pane fade show active" id="nav-inicio" role="tabpanel" aria-labelledby="nav-home-tab">
 				Conteúdo Início
 			</div>
  			<div class="tab-pane fade" id="nav-cursos" role="tabpanel" aria-labelledby="nav-curso-tab">
  				Conteúdo Cursos
  			</div>
  			<div class="tab-pane fade" id="nav-disciplinas" role="tabpanel" aria-labelledby="nav-disciplina-tab">
  				Conteúdo Disciplinas
  			</div>
  			<div class="tab-pane fade" id="nav-turmas" role="tabpanel" aria-labelledby="nav-turmas-tab">
  				Conteúdo Turmas
  			</div>
  			<div class="tab-pane fade" id="nav-professores" role="tabpanel" aria-labelledby="nav-professor-tab">
  				Conteúdo Professores
  			</div>
  			<div class="tab-pane fade" id="nav-alunos" role="tabpanel" aria-labelledby="nav-aluno-tab">
  				Conteúdo Alunos
  			</div>
		</div>
		<script type="text/javascript">
			var darkSwitch = document.getElementById("darkSwitch");
			var homeTab = document.getElementById('nav-home-tab');
			var cursosTab = document.getElementById('nav-curso-tab');
			var turmasTab = document.getElementById('nav-turmas-tab');
			var disciplinasTab = document.getElementById('nav-disciplina-tab');
			var professoresTab = document.getElementById('nav-professor-tab');
			var alunosTab = document.getElementById('nav-aluno-tab');
			var activeTab;
			window.addEventListener("load", function () {
				startActiveTab();
  				if (darkSwitch)
    				iniciarDark();
			});

			function iniciarDark() {
				var darkThemeSelected = localStorage.getItem("darkTheme") !== null && localStorage.getItem("darkTheme") === "on";
				darkSwitch.checked = darkThemeSelected;
				if(darkThemeSelected)
					setTema();
			}

			function setTema() {
				if(darkSwitch.checked) {
					toggleDarkMode();
					localStorage.setItem("darkTheme", "on");
				}
				else {
					toggleDarkMode();
					localStorage.removeItem("darkTheme");
				}
			}

			function toggleDarkMode() {
				document.body.classList.toggle("bg-dark");
				document.body.classList.toggle("text-white");
				document.getElementById('navbar').classList.toggle("bg-dark");
				document.getElementById('lua').classList.toggle("fas");
				homeTab.classList.toggle("text-white");
				cursosTab.classList.toggle("text-white");
				turmasTab.classList.toggle("text-white");
				disciplinasTab.classList.toggle("text-white");
				professoresTab.classList.toggle("text-white");
				alunosTab.classList.toggle("text-white");
				activeTab.classList.toggle("bg-dark");
				activeTab.classList.toggle("text-white");
			}

			function startActiveTab() {
				activeTab = document.querySelector(".active");
				if(localStorage.getItem("activeTab") !== null) {
					activeTab.classList.toggle("active");
					activeTab.setAttribute("aria-selected", "false");
					toggleActiveContent();
					activeTab = document.getElementById(localStorage.getItem("activeTab"));
					activeTab.classList.toggle("active");
					activeTab.setAttribute("aria-selected", "true");
					toggleActiveContent();
				}
				activeTab.classList.toggle("text-dark");
				activeTab.classList.toggle("text-primary");
				activeTab.style.fontWeight = "bold";
			}

			function toggleActiveTab() {
				if(darkSwitch.checked)
					toggleDarkMode();
				if(activeTab == homeTab || activeTab == cursosTab || activeTab == disciplinasTab || activeTab == turmasTab || activeTab == professoresTab || activeTab == alunosTab) {
					activeTab.classList.toggle("text-dark");	
					activeTab.classList.toggle("text-primary");
					activeTab.style.fontWeight = "normal";
				}
				localStorage.removeItem("activeTab");
				activeTab = document.querySelector(".active");
				activeTab.classList.toggle("text-dark");	
				activeTab.classList.toggle("text-primary");
				activeTab.style.fontWeight = "bold";
				localStorage.setItem("activeTab", activeTab.getAttribute("id"));
				if(darkSwitch.checked)
					toggleDarkMode();
			}

			function toggleActiveContent() {
				if(activeTab == homeTab) {
					document.getElementById("nav-inicio").classList.toggle("show");
					document.getElementById("nav-inicio").classList.toggle("active");
				}
				else if(activeTab == cursosTab) {
					document.getElementById("nav-cursos").classList.toggle("show");
					document.getElementById("nav-cursos").classList.toggle("active");
				}
				else if(activeTab == disciplinasTab) {
					document.getElementById("nav-disciplinas").classList.toggle("show");
					document.getElementById("nav-disciplinas").classList.toggle("active");
				}
				else if(activeTab == turmasTab) {
					document.getElementById("nav-turmas").classList.toggle("show");
					document.getElementById("nav-turmas").classList.toggle("active");
				}
				else if(activeTab == professoresTab) {
					document.getElementById("nav-professores").classList.toggle("show");
					document.getElementById("nav-professores").classList.toggle("active");
				}
				else if(activeTab == alunosTab) {
					document.getElementById("nav-alunos").classList.toggle("show");
					document.getElementById("nav-alunos").classList.toggle("active");
				}
			}
		</script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
	</body>
</html>